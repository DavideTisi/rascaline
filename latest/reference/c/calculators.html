<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Miscelaneous" href="misc.html" /><link rel="prev" title="Defining systems" href="systems.html" />

    <meta name="generator" content="sphinx-5.1.1, furo 2022.06.21"/>
        <title>Dealing with calculators - Rascaline 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="/home/runner/work/rascaline/rascaline/docs/static/rascaline.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Rascaline 0.1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Rascaline 0.1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts.html">Core concepts</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../calculators/index.html">Implemented calculators</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../calculators/spherical-expansion.html">Spherical expansion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../calculators/soap-radial-spectrum.html">SOAP radial spectrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../calculators/soap-power-spectrum.html">SOAP power spectrum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../calculators/sorted-distances.html">Sorted distance vector</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../tutorials/index.html">User guide and tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/computing-soap.html">Computing SOAP features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/profiling.html">Profiling calculation</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">API reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../python/index.html">Python API reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../python/systems.html">Available system implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/calculators.html">Available Calculators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/misc.html">Miscelaneous</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">C API reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="systems.html">Defining systems</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Dealing with calculators</a></li>
<li class="toctree-l3"><a class="reference internal" href="misc.html">Miscelaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rust.html">Rust API reference</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../devdoc/index.html">Developer documentation</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/getting-started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/contributing.html">Contribution guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/new-calculator.html">Tutorial: Adding a new calculator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/interfaces.html">Python and C interface</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="dealing-with-calculators">
<h1>Dealing with calculators<a class="headerlink" href="#dealing-with-calculators" title="Permalink to this heading">#</a></h1>
<dl class="c type">
<dt class="sig sig-object c" id="c.rascal_calculator_t">
<span class="target" id="rascaline_8h_1a4df3c4220301e5c6faaba7c0647d457a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator_t</span></span></span><a class="headerlink" href="#c.rascal_calculator_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Opaque type representing a <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> </p>
</dd></dl>

<p>The following functions operate on <a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><code class="xref c c-type docutils literal notranslate"><span class="pre">rascal_calculator_t</span></code></a>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#c.rascal_calculator" title="rascal_calculator"><code class="xref c c-func docutils literal notranslate"><span class="pre">rascal_calculator()</span></code></a>: create new calculators</p></li>
<li><p><a class="reference internal" href="#c.rascal_calculator_free" title="rascal_calculator_free"><code class="xref c c-func docutils literal notranslate"><span class="pre">rascal_calculator_free()</span></code></a>: free allocated calculators</p></li>
<li><p><a class="reference internal" href="#c.rascal_calculator_compute" title="rascal_calculator_compute"><code class="xref c c-func docutils literal notranslate"><span class="pre">rascal_calculator_compute()</span></code></a>: run the actual calculation</p></li>
<li><p><a class="reference internal" href="#c.rascal_calculator_name" title="rascal_calculator_name"><code class="xref c c-func docutils literal notranslate"><span class="pre">rascal_calculator_name()</span></code></a> get the name of a calculator</p></li>
<li><p><a class="reference internal" href="#c.rascal_calculator_parameters" title="rascal_calculator_parameters"><code class="xref c c-func docutils literal notranslate"><span class="pre">rascal_calculator_parameters()</span></code></a>: get the hyper-parameters of a calculator</p></li>
</ul>
<hr class="docutils" />
<dl class="c function">
<dt class="sig sig-object c" id="c.rascal_calculator">
<span class="target" id="rascaline_8h_1a36ca4d5d736406a1b354d617f881b99f"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">parameters</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.rascal_calculator" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Create a new calculator with the given <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">parameters</span></code>.</p>
<p>The list of available calculators and the corresponding parameters are in
the <a class="reference internal" href="../../calculators/index.html#calculators-list"><span class="std std-ref">main documentation</span></a>. The <code class="docutils literal notranslate"><span class="pre">parameters</span></code> should
be formatted as JSON, according to the requested calculator schema.</p>
<p>All memory allocated by this function can be released using <code class="docutils literal notranslate"><span class="pre">rascal_calculator_free</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – name of the calculator as a NULL-terminated string </p></li>
<li><p><strong>parameters</strong> – hyper-parameters of the calculator, JSON-formatted in a NULL-terminated string</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pointer to the newly allocated calculator, or a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> pointer in case of error. In case of error, you can use <code class="docutils literal notranslate"><span class="pre">rascal_last_error()</span></code> to get the error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.rascal_calculator_free">
<span class="target" id="rascaline_8h_1a199ca912fa968167c856bb288718a627"></span><a class="reference internal" href="misc.html#c.rascal_status_t" title="rascal_status_t"><span class="n"><span class="pre">rascal_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">calculator</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.rascal_calculator_free" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Free the memory associated with a <code class="docutils literal notranslate"><span class="pre">calculator</span></code> previously created with <code class="docutils literal notranslate"><span class="pre">rascal_calculator</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">calculator</span></code> is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, this function does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calculator</strong> – pointer to an existing calculator, or <code class="docutils literal notranslate"><span class="pre">NULL</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">RASCAL_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">rascal_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.rascal_calculator_compute">
<span class="target" id="rascaline_8h_1aad3a1c477906516308fdf9eb12d7faaf"></span><a class="reference internal" href="misc.html#c.rascal_status_t" title="rascal_status_t"><span class="n"><span class="pre">rascal_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator_compute</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">calculator</span></span>, <a class="reference external" href="https://lab-cosmo.github.io/equistore/latest/reference/c/tensor.html#c.eqs_tensormap_t" title="(in equistore)"><span class="n"><span class="pre">eqs_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">descriptor</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="systems.html#c.rascal_system_t" title="rascal_system_t"><span class="n"><span class="pre">rascal_system_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">systems</span></span>, <span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">systems_count</span></span>, <span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculation_options_t" title="rascal_calculation_options_t"><span class="n"><span class="pre">rascal_calculation_options_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">options</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.rascal_calculator_compute" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Compute the representation of the given list of <code class="docutils literal notranslate"><span class="pre">systems</span></code> with a <code class="docutils literal notranslate"><span class="pre">calculator</span></code></p>
<p>This function allocates a new <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_t</span></code> in <code class="docutils literal notranslate"><span class="pre">*descriptor</span></code>, which memory needs to be released by the user with <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_free</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calculator</strong> – pointer to an existing calculator </p></li>
<li><p><strong>descriptor</strong> – pointer to an <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_t</span> <span class="pre">*</span></code> that will be allocated by this function </p></li>
<li><p><strong>systems</strong> – pointer to an array of systems implementation </p></li>
<li><p><strong>systems_count</strong> – number of systems in <code class="docutils literal notranslate"><span class="pre">systems</span></code> </p></li>
<li><p><strong>options</strong> – options for this calculation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">RASCAL_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">rascal_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.rascal_calculator_name">
<span class="target" id="rascaline_8h_1ab25050f400f9e32944fa589e39b18198"></span><a class="reference internal" href="misc.html#c.rascal_status_t" title="rascal_status_t"><span class="n"><span class="pre">rascal_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator_name</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">calculator</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span>, <span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">bufflen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.rascal_calculator_name" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Get a copy of the name of this calculator in the <code class="docutils literal notranslate"><span class="pre">name</span></code> buffer of size <code class="docutils literal notranslate"><span class="pre">bufflen</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">name</span></code> will be NULL-terminated by this function. If the buffer is too small to fit the whole name, this function will return <code class="docutils literal notranslate"><span class="pre">RASCAL_BUFFER_SIZE_ERROR</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calculator</strong> – pointer to an existing calculator </p></li>
<li><p><strong>name</strong> – string buffer to fill with the calculator name </p></li>
<li><p><strong>bufflen</strong> – number of characters available in the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">RASCAL_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">rascal_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.rascal_calculator_parameters">
<span class="target" id="rascaline_8h_1ab79c4e8063f7cf28a7e8e2c135ef6567"></span><a class="reference internal" href="misc.html#c.rascal_status_t" title="rascal_status_t"><span class="n"><span class="pre">rascal_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculator_parameters</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_calculator_t" title="rascal_calculator_t"><span class="n"><span class="pre">rascal_calculator_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">calculator</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">parameters</span></span>, <span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">bufflen</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.rascal_calculator_parameters" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Get a copy of the parameters used to create this calculator in the <code class="docutils literal notranslate"><span class="pre">parameters</span></code> buffer of size <code class="docutils literal notranslate"><span class="pre">bufflen</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">parameters</span></code> will be NULL-terminated by this function. If the buffer is too small to fit the whole name, this function will return <code class="docutils literal notranslate"><span class="pre">RASCAL_BUFFER_SIZE_ERROR</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>calculator</strong> – pointer to an existing calculator </p></li>
<li><p><strong>parameters</strong> – string buffer to fill with the parameters used to create this calculator </p></li>
<li><p><strong>bufflen</strong> – number of characters available in the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">RASCAL_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">rascal_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<hr class="docutils" />
<dl class="c struct">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t">
<span class="target" id="structrascal__calculation__options__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_calculation_options_t</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Options that can be set to change how a calculator operates. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t.gradients">
<span class="target" id="structrascal__calculation__options__t_1ac4d725abbe8be16421425f0686ede39f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">gradients</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t.gradients" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Array of NULL-terminated strings containing the gradients to compute.</p>
<p>Add <code class="docutils literal notranslate"><span class="pre">&quot;positions&quot;</span></code> to the list to compute gradients of the representation with respect to the atomic positions, and <code class="docutils literal notranslate"><span class="pre">&quot;cell&quot;</span></code> to compute the gradient of the representation with respect to the cell vectors. If this field is <code class="docutils literal notranslate"><span class="pre">NULL</span></code> and <code class="docutils literal notranslate"><span class="pre">gradients_count</span></code> is 0, no gradients are computed. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t.gradients_count">
<span class="target" id="structrascal__calculation__options__t_1a84a46bc94a855d05b8031ba7da8ac884"></span><span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">gradients_count</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t.gradients_count" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Size of the <code class="docutils literal notranslate"><span class="pre">gradients</span></code> array </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t.use_native_system">
<span class="target" id="structrascal__calculation__options__t_1ac82fcffcb1c79e8fa34429e5484ed62d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">use_native_system</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t.use_native_system" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Copy the data from systems into native <code class="docutils literal notranslate"><span class="pre">SimpleSystem</span></code>. This can be faster than having to cross the FFI boundary too often. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t.selected_samples">
<span class="target" id="structrascal__calculation__options__t_1a7d1a8d2a97c5762da729031bc0f0ecfd"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_labels_selection_t" title="rascal_labels_selection_t"><span class="n"><span class="pre">rascal_labels_selection_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">selected_samples</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t.selected_samples" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Selection of samples on which to run the computation </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_calculation_options_t.selected_properties">
<span class="target" id="structrascal__calculation__options__t_1a481c581ab7582ac1ab82f8674606b8f6"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#c.rascal_labels_selection_t" title="rascal_labels_selection_t"><span class="n"><span class="pre">rascal_labels_selection_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">selected_properties</span></span></span><a class="headerlink" href="#c.rascal_calculation_options_t.selected_properties" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Selection of properties to compute for the samples </p>
</dd></dl>

</div>
</dd></dl>

<dl class="c struct">
<dt class="sig sig-object c" id="c.rascal_labels_selection_t">
<span class="target" id="structrascal__labels__selection__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rascal_labels_selection_t</span></span></span><a class="headerlink" href="#c.rascal_labels_selection_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Rules to select labels (either samples or properties) on which the user wants to run a calculation</p>
<p>To run the calculation for all possible labels, users should set both fields to NULL. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_labels_selection_t.subset">
<span class="target" id="structrascal__labels__selection__t_1ac54b46bd44477e1ab3b3512fbde2fa93"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference external" href="https://lab-cosmo.github.io/equistore/latest/reference/c/labels.html#c.eqs_labels_t" title="(in equistore)"><span class="n"><span class="pre">eqs_labels_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">subset</span></span></span><a class="headerlink" href="#c.rascal_labels_selection_t.subset" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Select a subset of labels, using the same selection criterion for all keys in the final <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_t</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><a class="reference external" href="https://lab-cosmo.github.io/equistore/latest/reference/c/labels.html#structeqs__labels__t" title="(in equistore)"><span class="pre">eqs_labels_t</span></a></code> instance contains the same variables as the full set of labels, then only entries from the full set that also appear in this selection will be used.</p>
<p>If the <code class="docutils literal notranslate"><a class="reference external" href="https://lab-cosmo.github.io/equistore/latest/reference/c/labels.html#structeqs__labels__t" title="(in equistore)"><span class="pre">eqs_labels_t</span></a></code> instance contains a subset of the variables of the full set of labels, then only entries from the full set which match one of the entry in this selection for all of the selection variable will be used. </p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.rascal_labels_selection_t.predefined">
<span class="target" id="structrascal__labels__selection__t_1ab3d202770c2fb96252d4457f5d6f06ff"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference external" href="https://lab-cosmo.github.io/equistore/latest/reference/c/tensor.html#c.eqs_tensormap_t" title="(in equistore)"><span class="n"><span class="pre">eqs_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">predefined</span></span></span><a class="headerlink" href="#c.rascal_labels_selection_t.predefined" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Use a predefined subset of labels, with different entries for different keys of the final <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_t</span></code>.</p>
<p>For each key, the corresponding labels are fetched out of the <code class="docutils literal notranslate"><span class="pre">eqs_tensormap_t</span></code> instance, which must have the same set of keys as the full calculation. </p>
</dd></dl>

</div>
</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="misc.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Miscelaneous</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="systems.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Defining systems</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, Rascaline developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/scripts/furo.js"></script>
    </body>
</html>